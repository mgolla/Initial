/*!
 * angular-cache
 * @version 4.4.2 - Homepage <http://jmdobry.github.io/angular-cache/>
 * @author Jason Dobry <jason.dobry@gmail.com>
 * @copyright (c) 2013-2015 Jason Dobry 
 * @license MIT <https://github.com/jmdobry/angular-cache/blob/master/LICENSE>
 * 
 * @overview angular-cache is a very useful replacement for Angular's $cacheFactory.
 */
(function(n,t){typeof exports=="object"&&typeof module=="object"?module.exports=t(require("angular")):typeof define=="function"&&define.amd?define("angular-cache",["angular"],t):typeof exports=="object"?exports.angularCacheModuleName=t(require("angular")):n.angularCacheModuleName=t(n.angular)})(this,function(n){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t,i){function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var u=i(1),r=i(2),f,e;r.utils.equals=u.equals;r.utils.isObject=u.isObject;r.utils.fromJson=u.fromJson;f=function f(){o(this,f);this.$get=function(){return r.BinaryHeap}};e=function e(){o(this,e);this.defaults=r.defaults;this.defaults.storagePrefix="angular-cache.caches.";this.$get=["$q",function(n){return r.utils.Promise=n,r}]};u.module("angular-cache",[]).provider("BinaryHeap",f).provider("CacheFactory",e);n.exports="angular-cache";try{n.exports.name="angular-cache"}catch(s){}},function(t){t.exports=n},function(n,t){
/*!
	 * cachefactory
	 * @version 1.2.0 - Homepage <http://jmdobry.github.io/cachefactory/>
	 * @author Jason Dobry <jason.dobry@gmail.com>
	 * @copyright (c) 2013-2015 Jason Dobry 
	 * @license MIT <https://github.com/jmdobry/cachefactory/blob/master/LICENSE>
	 * 
	 * @overview cachefactory is a very useful replacement for Angular's $cacheFactory.
	 */
(function(i,r){n.exports=r()})(this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t,i){function e(n,t){return v(n,t)}var s=i(1),h=null;try{h=window.Promise}catch(y){}var r={isNumber:function(n){return typeof n=="number"},isString:function(n){return typeof n=="string"},isObject:function(n){return n!==null&&typeof n=="object"},isFunction:function(n){return typeof n=="function"},fromJson:function(n){return JSON.parse(n)},equals:function(n,t){return n===t},Promise:h},o=function(n){var i=[],t=undefined;for(t in n)n.hasOwnProperty(t)&&i.push(t);return i},c=function(n){return n&&typeof n.then=="function"},l=function(n){return r.isNumber(n)?n.toString():n},a=function(n){var i={},t=undefined;for(t in n)n.hasOwnProperty(t)&&(i[t]=t);return i},f={capacity:Number.MAX_VALUE,maxAge:Number.MAX_VALUE,deleteOnExpire:"none",onExpire:null,cacheFlushInterval:null,recycleFreq:1e3,storageMode:"memory",storageImpl:null,disabled:!1,storagePrefix:"cachefactory.caches.",storeOnResolve:!1,storeOnReject:!1},u={},v=function(n,t){if(n in u)throw new Error(n+" already exists!");else if(!r.isString(n))throw new Error("cacheId must be a string!");var e={},y={},i=null,v=new s(function(n){return n.expires},r.equals),h=new s(function(n){return n.accessed},r.equals),p=u[n]={$$id:n,destroy:function(){clearInterval(this.$$cacheFlushIntervalId);clearInterval(this.$$recycleFreqId);this.removeAll();i&&(i().removeItem(this.$$prefix+".keys"),i().removeItem(this.$$prefix));i=null;e=null;h=null;v=null;this.$$prefix=null;delete u[this.$$id]},disable:function(){this.$$disabled=!0},enable:function(){delete this.$$disabled},get:function(n,t){var a=this,o,u,s,c,f;if(Array.isArray(n)){if(o=function(){var r=n,i=[];return r.forEach(function(n){var r=a.get(n,t);r!==null&&r!==undefined&&i.push(r)}),{v:i}}(),typeof o=="object")return o.v}else if(n=l(n),this.$$disabled)return;if(t=t||{},r.isString(n)){if(t&&!r.isObject(t))throw new Error("options must be an object!");else if(t.onExpire&&!r.isFunction(t.onExpire))throw new Error("options.onExpire must be a function!");}else throw new Error("key must be a string!");if(u=undefined,i){if(y[n])return y[n];if(s=i().getItem(this.$$prefix+".data."+n),s)u=r.fromJson(s);else return}else{if(!(n in e))return;u=e[n]}return c=u.value,f=(new Date).getTime(),i?(h.remove({key:n,accessed:u.accessed}),u.accessed=f,h.push({key:n,accessed:f})):(h.remove(u),u.accessed=f,h.push(u)),this.$$deleteOnExpire==="passive"&&"expires"in u&&u.expires<f?(this.remove(n),this.$$onExpire?this.$$onExpire.call(this,n,u.value,t.onExpire):t.onExpire&&t.onExpire.call(this,n,u.value),c=undefined):i&&i().setItem(this.$$prefix+".data."+n,JSON.stringify(u)),c},info:function(n){var t,u;return n?(t=undefined,i?(u=i().getItem(this.$$prefix+".data."+n),u?(t=r.fromJson(u),{created:t.created,accessed:t.accessed,expires:t.expires,isExpired:(new Date).getTime()-t.created>(t.maxAge||this.$$maxAge)}):undefined):n in e?(t=e[n],{created:t.created,accessed:t.accessed,expires:t.expires,isExpired:(new Date).getTime()-t.created>(t.maxAge||this.$$maxAge)}):undefined):{id:this.$$id,capacity:this.$$capacity,maxAge:this.$$maxAge,deleteOnExpire:this.$$deleteOnExpire,onExpire:this.$$onExpire,cacheFlushInterval:this.$$cacheFlushInterval,recycleFreq:this.$$recycleFreq,storageMode:this.$$storageMode,storageImpl:i?i():undefined,disabled:!!this.$$disabled,size:h&&h.size()||0}},keys:function(){if(i){var n=i().getItem(this.$$prefix+".keys");return n?r.fromJson(n):[]}return o(e)},keySet:function(){var u,f,t,n;if(i){if(u=i().getItem(this.$$prefix+".keys"),f={},u)for(t=r.fromJson(u),n=0;n<t.length;n++)f[t[n]]=t[n];return f}return a(e)},put:function(n,t,u){var w=this,a,f,p,s;u=u||{};var d="storeOnResolve"in u?!!u.storeOnResolve:this.$$storeOnResolve,g="storeOnReject"in u?!!u.storeOnReject:this.$$storeOnReject,b=function(t,i){return function(u){if(t&&(delete y[n],r.isObject(u)&&"status"in u&&"data"in u?(u=[u.status,u.data,u.headers(),u.statusText],w.put(n,u)):w.put(n,u)),i){if(r.Promise)return r.Promise.reject(u);throw u;}else return u}};if(!this.$$disabled&&t!==null&&t!==undefined){if(n=l(n),!r.isString(n))throw new Error("key must be a string!");if(a=(new Date).getTime(),f={key:n,value:c(t)?t.then(b(d,!1),b(g,!0)):t,created:a,accessed:a},u.maxAge&&(f.maxAge=u.maxAge),f.expires=f.created+(f.maxAge||this.$$maxAge),i){if(c(f.value))return y[n]=f.value,y[n];var k=i().getItem(this.$$prefix+".keys"),o=k?r.fromJson(k):[],nt=i().getItem(this.$$prefix+".data."+n);for(nt&&this.remove(n),v.push({key:n,expires:f.expires}),h.push({key:n,accessed:f.accessed}),i().setItem(this.$$prefix+".data."+n,JSON.stringify(f)),p=!1,s=0;s<o.length;s++)if(o[s]===n){p=!0;break}p||o.push(n);i().setItem(this.$$prefix+".keys",JSON.stringify(o))}else e[n]&&this.remove(n),v.push(f),h.push(f),e[n]=f,delete y[n];return h.size()>this.$$capacity&&this.remove(h.peek().key),t}},remove:function(n){var u,t,c;if(n+="",delete y[n],i){if(u=i().getItem(this.$$prefix+".data."+n),u){t=r.fromJson(u);h.remove({key:n,accessed:t.accessed});v.remove({key:n,expires:t.expires});i().removeItem(this.$$prefix+".data."+n);var o=i().getItem(this.$$prefix+".keys"),f=o?r.fromJson(o):[],s=f.indexOf(n);return s>=0&&f.splice(s,1),i().setItem(this.$$prefix+".keys",JSON.stringify(f)),t.value}}else return c=e[n]?e[n].value:undefined,h.remove(e[n]),v.remove(e[n]),e[n]=null,delete e[n],c},removeAll:function(){var t,u,n,f;if(i){if(h.removeAll(),v.removeAll(),t=i().getItem(this.$$prefix+".keys"),t)for(u=r.fromJson(t),n=0;n<u.length;n++)this.remove(u[n]);i().setItem(this.$$prefix+".keys",JSON.stringify([]))}else{h.removeAll();v.removeAll();for(f in e)e[f]=null;e={}}y={}},removeExpired:function(){for(var e=(new Date).getTime(),t={},n=undefined,u=undefined,f;(u=v.peek())&&u.expires<=e;)t[u.key]=u.value?u.value:null,v.pop();if(i)for(n in t)f=i().getItem(this.$$prefix+".data."+n),f&&(t[n]=r.fromJson(f).value,this.remove(n));else for(n in t)this.remove(n);if(this.$$onExpire)for(n in t)this.$$onExpire.call(this,n,t[n]);return t},setCacheFlushInterval:function(n){if(n===null)delete this.$$cacheFlushInterval;else if(r.isNumber(n))if(n<0)throw new Error("cacheFlushInterval must be greater than zero!");else n!==this.$$cacheFlushInterval&&(this.$$cacheFlushInterval=n,clearInterval(this.$$cacheFlushIntervalId),function(n){n.$$cacheFlushIntervalId=setInterval(function(){n.removeAll()},n.$$cacheFlushInterval)}(this));else throw new Error("cacheFlushInterval must be a number!");},setCapacity:function(n){if(n===null)delete this.$$capacity;else if(r.isNumber(n))if(n<0)throw new Error("capacity must be greater than zero!");else this.$$capacity=n;else throw new Error("capacity must be a number!");for(var t={};h.size()>this.$$capacity;)t[h.peek().key]=this.remove(h.peek().key);return t},setDeleteOnExpire:function(n,t){if(n===null)delete this.$$deleteOnExpire;else if(r.isString(n))if(n!=="none"&&n!=="passive"&&n!=="aggressive")throw new Error('deleteOnExpire must be "none", "passive" or "aggressive"!');else this.$$deleteOnExpire=n;else throw new Error("deleteOnExpire must be a string!");t!==!1&&this.setRecycleFreq(this.$$recycleFreq)},setMaxAge:function(n){var h,c,s;if(n===null)this.$$maxAge=Number.MAX_VALUE;else if(r.isNumber(n))if(n<0)throw new Error("maxAge must be greater than zero!");else this.$$maxAge=n;else throw new Error("maxAge must be a number!");var t=undefined,f=undefined,u=undefined;if(v.removeAll(),i)for(h=i().getItem(this.$$prefix+".keys"),f=h?r.fromJson(h):[],t=0;t<f.length;t++)u=f[t],c=i().getItem(this.$$prefix+".data."+u),c&&(s=r.fromJson(c),s.expires=this.$$maxAge===Number.MAX_VALUE?Number.MAX_VALUE:s.created+(s.maxAge||this.$$maxAge),v.push({key:u,expires:s.expires}));else for(f=o(e),t=0;t<f.length;t++)u=f[t],e[u].expires=this.$$maxAge===Number.MAX_VALUE?Number.MAX_VALUE:e[u].created+(e[u].maxAge||this.$$maxAge),v.push(e[u]);return this.$$deleteOnExpire==="aggressive"?this.removeExpired():{}},setOnExpire:function(n){if(n===null)delete this.$$onExpire;else if(r.isFunction(n))this.$$onExpire=n;else throw new Error("onExpire must be a function!");},setOptions:function(n,t){if(n=n||{},t=!!t,!r.isObject(n))throw new Error("cacheOptions must be an object!");"storagePrefix"in n?this.$$storagePrefix=n.storagePrefix:t&&(this.$$storagePrefix=f.storagePrefix);this.$$prefix=this.$$storagePrefix+this.$$id;"disabled"in n?this.$$disabled=!!n.disabled:t&&(this.$$disabled=f.disabled);"storageMode"in n||"storageImpl"in n?this.setStorageMode(n.storageMode||f.storageMode,n.storageImpl||f.storageImpl):t&&this.setStorageMode(f.storageMode,f.storageImpl);"storeOnResolve"in n?this.$$storeOnResolve=!!n.storeOnResolve:t&&(this.$$storeOnResolve=f.storeOnResolve);"storeOnReject"in n?this.$$storeOnReject=!!n.storeOnReject:t&&(this.$$storeOnReject=f.storeOnReject);"capacity"in n?this.setCapacity(n.capacity):t&&this.setCapacity(f.capacity);"deleteOnExpire"in n?this.setDeleteOnExpire(n.deleteOnExpire,!1):t&&this.setDeleteOnExpire(f.deleteOnExpire,!1);"maxAge"in n?this.setMaxAge(n.maxAge):t&&this.setMaxAge(f.maxAge);"recycleFreq"in n?this.setRecycleFreq(n.recycleFreq):t&&this.setRecycleFreq(f.recycleFreq);"cacheFlushInterval"in n?this.setCacheFlushInterval(n.cacheFlushInterval):t&&this.setCacheFlushInterval(f.cacheFlushInterval);"onExpire"in n?this.setOnExpire(n.onExpire):t&&this.setOnExpire(f.onExpire)},setRecycleFreq:function(n){if(n===null)delete this.$$recycleFreq;else if(r.isNumber(n))if(n<0)throw new Error("recycleFreq must be greater than zero!");else this.$$recycleFreq=n;else throw new Error("recycleFreq must be a number!");clearInterval(this.$$recycleFreqId);this.$$deleteOnExpire==="aggressive"?function(n){n.$$recycleFreqId=setInterval(function(){n.removeExpired()},n.$$recycleFreq)}(this):delete this.$$recycleFreqId},setStorageMode:function(n,t){var u,o;if(r.isString(n)){if(n!=="memory"&&n!=="localStorage"&&n!=="sessionStorage")throw new Error('storageMode must be "memory", "localStorage" or "sessionStorage"!');}else throw new Error("storageMode must be a string!");var s=!1,e={},f=this.keys();if(f.length){for(u=0;u<f.length;u++)e[f[u]]=this.get(f[u]);for(u=0;u<f.length;u++)this.remove(f[u]);s=!0}if(this.$$storageMode=n,t){if(r.isObject(t))if("setItem"in t&&typeof t.setItem=="function")if("getItem"in t&&typeof t.getItem=="function"){if(!("removeItem"in t)||typeof t.removeItem!="function")throw new Error('storageImpl must implement "removeItem(key)"!');}else throw new Error('storageImpl must implement "getItem(key)"!');else throw new Error('storageImpl must implement "setItem(key, value)"!');else throw new Error("storageImpl must be an object!");i=function(){return t}}else if(this.$$storageMode==="localStorage")try{localStorage.setItem("cachefactory","cachefactory");localStorage.removeItem("cachefactory");i=function(){return localStorage}}catch(h){i=null;this.$$storageMode="memory"}else if(this.$$storageMode==="sessionStorage")try{sessionStorage.setItem("cachefactory","cachefactory");sessionStorage.removeItem("cachefactory");i=function(){return sessionStorage}}catch(h){i=null;this.$$storageMode="memory"}if(s)for(o in e)this.put(o,e[o])},touch:function(n){var u=this,i,r,t;if(n)i=this.get(n,{onExpire:function(n,t){return u.put(n,t)}}),i&&this.put(n,i);else for(r=this.keys(),t=0;t<r.length;t++)this.touch(r[t])}};return p.setOptions(t,!0),p};e.createCache=v;e.defaults=f;e.info=function(){var i=o(u),r={size:i.length,caches:{}},n,t,e;for(n in f)f.hasOwnProperty(n)&&(r[n]=f[n]);for(t=0;t<i.length;t++)e=i[t],r.caches[e]=u[e].info();return r};e.get=function(n){return u[n]};e.keySet=function(){return a(u)};e.keys=function(){return o(u)};e.destroy=function(n){u[n]&&(u[n].destroy(),delete u[n])};e.destroyAll=function(){for(var n in u)u[n].destroy();u={}};e.clearAll=function(){for(var n in u)u[n].removeAll()};e.removeExpiredFromAll=function(){var n={};for(var t in u)n[t]=u[t].removeExpired();return n};e.enableAll=function(){for(var n in u)u[n].$$disabled=!1};e.disableAll=function(){for(var n in u)u[n].$$disabled=!0};e.touchAll=function(){for(var n in u)u[n].touch()};e.utils=r;e.BinaryHeap=s;n.exports=e},function(n,t){
/*!
		 * yabh
		 * @version 1.1.0 - Homepage <http://jmdobry.github.io/yabh/>
		 * @author Jason Dobry <jason.dobry@gmail.com>
		 * @copyright (c) 2015 Jason Dobry 
		 * @license MIT <https://github.com/jmdobry/yabh/blob/master/LICENSE>
		 * 
		 * @overview Yet another Binary Heap.
		 */
(function(i,r){n.exports=r()})(this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n){function i(n,t,i){for(var f=n[i],e=t(f),r,u;i>0;)if(r=Math.floor((i+1)/2)-1,u=n[r],e>=t(u))break;else n[r]=f,n[i]=u,i=r}function u(n,t){if(n||(n=function(n){return n}),t||(t=function(n,t){return n===t}),typeof n!="function")throw new Error('BinaryHeap([weightFunc][, compareFunc]): "weightFunc" must be a function!');if(typeof t!="function")throw new Error('BinaryHeap([weightFunc][, compareFunc]): "compareFunc" must be a function!');this.weightFunc=n;this.compareFunc=t;this.heap=[]}var r=function(n,t,i){for(var e=n.length,o=n[i],s=t(o),h,c,l,a;;){var u=(i+1)*2,f=u-1,r=null;if(f<e&&(h=n[f],c=t(h),c<s&&(r=f)),u<e&&(l=n[u],a=t(l),a<(r===null?s:t(n[f]))&&(r=u)),r===null)break;else n[i]=n[r],n[r]=o,i=r}},t=u.prototype;t.push=function(n){this.heap.push(n);i(this.heap,this.weightFunc,this.heap.length-1)};t.peek=function(){return this.heap[0]};t.pop=function(){var n=this.heap[0],t=this.heap.pop();return this.heap.length>0&&(this.heap[0]=t,r(this.heap,this.weightFunc,0)),n};t.remove=function(n){for(var f,e,u=this.heap.length,t=0;t<u;t++)if(this.compareFunc(this.heap[t],n))return f=this.heap[t],e=this.heap.pop(),t!==u-1&&(this.heap[t]=e,i(this.heap,this.weightFunc,t),r(this.heap,this.weightFunc,t)),f;return null};t.removeAll=function(){this.heap=[]};t.size=function(){return this.heap.length};n.exports=u}])})}])})}])});
//# sourceMappingURL=angular-cache.min.js.map
